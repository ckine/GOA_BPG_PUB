<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Geometric Accuracy | _main.knit</title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Geometric Accuracy | _main.knit" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Geometric Accuracy | _main.knit" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="hardware.html"/>
<link rel="next" href="planning.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Best Practice Guide to Acquisition of 3D Imagery from RPAS</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Best Practice Guide to Acquisition of 3D Imagery from RPAS</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#cite_report"><i class="fa fa-check"></i>How to cite this report:</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i>Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="contents.html"><a href="contents.html"><i class="fa fa-check"></i>Contents</a></li>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html"><i class="fa fa-check"></i>Glossary</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="hardware.html"><a href="hardware.html"><i class="fa fa-check"></i><b>2</b> Hardware</a>
<ul>
<li class="chapter" data-level="2.1" data-path="hardware.html"><a href="hardware.html#RPA"><i class="fa fa-check"></i><b>2.1</b> Remotely Piloted Aircraft (RPA)</a></li>
<li class="chapter" data-level="2.2" data-path="hardware.html"><a href="hardware.html#sensors"><i class="fa fa-check"></i><b>2.2</b> Imaging Sensors</a></li>
<li class="chapter" data-level="2.3" data-path="hardware.html"><a href="hardware.html#other_h"><i class="fa fa-check"></i><b>2.3</b> Other Hardware Considerations</a></li>
<li class="chapter" data-level="2.4" data-path="hardware.html"><a href="hardware.html#workstation"><i class="fa fa-check"></i><b>2.4</b> Workstation</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="geo_accuracy.html"><a href="geo_accuracy.html"><i class="fa fa-check"></i><b>3</b> Geometric Accuracy</a>
<ul>
<li class="chapter" data-level="3.1" data-path="geo_accuracy.html"><a href="geo_accuracy.html#GCP"><i class="fa fa-check"></i><b>3.1</b> Ground Control Points (GCP)</a></li>
<li class="chapter" data-level="3.2" data-path="geo_accuracy.html"><a href="geo_accuracy.html#RTK_wf"><i class="fa fa-check"></i><b>3.2</b> Real-Time Kinematic (RTK) Workflows</a></li>
<li class="chapter" data-level="3.3" data-path="geo_accuracy.html"><a href="geo_accuracy.html#PPK_wf"><i class="fa fa-check"></i><b>3.3</b> Post-Processing Kinematic Workflows (PPK)</a></li>
<li class="chapter" data-level="3.4" data-path="geo_accuracy.html"><a href="geo_accuracy.html#use_case"><i class="fa fa-check"></i><b>3.4</b> Determining Use-Case</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="planning.html"><a href="planning.html"><i class="fa fa-check"></i><b>4</b> Acquisition Planning</a>
<ul>
<li class="chapter" data-level="4.1" data-path="planning.html"><a href="planning.html#takeoff"><i class="fa fa-check"></i><b>4.1</b> Takeoff Sites</a></li>
<li class="chapter" data-level="4.2" data-path="planning.html"><a href="planning.html#flight_plan"><i class="fa fa-check"></i><b>4.2</b> Flight Planning Software</a></li>
<li class="chapter" data-level="4.3" data-path="planning.html"><a href="planning.html#timing"><i class="fa fa-check"></i><b>4.3</b> Timing</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="DPP.html"><a href="DPP.html"><i class="fa fa-check"></i><b>5</b> Digital Photogrammetric Processing</a>
<ul>
<li class="chapter" data-level="5.1" data-path="DPP.html"><a href="DPP.html#software"><i class="fa fa-check"></i><b>5.1</b> Software Choices</a></li>
<li class="chapter" data-level="5.2" data-path="DPP.html"><a href="DPP.html#agisoft_wf"><i class="fa fa-check"></i><b>5.2</b> Agisoft Workflow Walk-Throughs</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="DPP.html"><a href="DPP.html#imagery_org"><i class="fa fa-check"></i><b>5.2.1</b> Imagery Organization</a></li>
<li class="chapter" data-level="5.2.2" data-path="DPP.html"><a href="DPP.html#image_filt"><i class="fa fa-check"></i><b>5.2.2</b> Image filtering</a></li>
<li class="chapter" data-level="5.2.3" data-path="DPP.html"><a href="DPP.html#image_align"><i class="fa fa-check"></i><b>5.2.3</b> Image Alignment</a></li>
<li class="chapter" data-level="5.2.4" data-path="DPP.html"><a href="DPP.html#cloud_filt"><i class="fa fa-check"></i><b>5.2.4</b> Sparse Cloud Filtering</a></li>
<li class="chapter" data-level="5.2.5" data-path="DPP.html"><a href="DPP.html#map_gen"><i class="fa fa-check"></i><b>5.2.5</b> Depth Map Generation</a></li>
<li class="chapter" data-level="5.2.6" data-path="DPP.html"><a href="DPP.html#map_filt"><i class="fa fa-check"></i><b>5.2.6</b> Depth Map Filtering</a></li>
<li class="chapter" data-level="5.2.7" data-path="DPP.html"><a href="DPP.html#micasense"><i class="fa fa-check"></i><b>5.2.7</b> Multispectral (MicaSense)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="PPP.html"><a href="PPP.html"><i class="fa fa-check"></i><b>6</b> Photogrammetric Post-Processing</a>
<ul>
<li class="chapter" data-level="6.1" data-path="PPP.html"><a href="PPP.html#software_PPP"><i class="fa fa-check"></i><b>6.1</b> Software choices</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="PPP.html"><a href="PPP.html#LAStools"><i class="fa fa-check"></i><b>6.1.1</b> LAStools</a></li>
<li class="chapter" data-level="6.1.2" data-path="PPP.html"><a href="PPP.html#lidR"><i class="fa fa-check"></i><b>6.1.2</b> lidR</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="PPP.html"><a href="PPP.html#wf_script"><i class="fa fa-check"></i><b>6.2</b> Workflows/Scripting</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="PPP.html"><a href="PPP.html#comp"><i class="fa fa-check"></i><b>6.2.1</b> Compression</a></li>
<li class="chapter" data-level="6.2.2" data-path="PPP.html"><a href="PPP.html#tiling"><i class="fa fa-check"></i><b>6.2.2</b> Tiling and Buffering</a></li>
<li class="chapter" data-level="6.2.3" data-path="PPP.html"><a href="PPP.html#noise_filt"><i class="fa fa-check"></i><b>6.2.3</b> Noise filtering</a></li>
<li class="chapter" data-level="6.2.4" data-path="PPP.html"><a href="PPP.html#class"><i class="fa fa-check"></i><b>6.2.4</b> Classification</a></li>
<li class="chapter" data-level="6.2.5" data-path="PPP.html"><a href="PPP.html#normal"><i class="fa fa-check"></i><b>6.2.5</b> Normalization</a></li>
<li class="chapter" data-level="6.2.6" data-path="PPP.html"><a href="PPP.html#PC_normal"><i class="fa fa-check"></i><b>6.2.6</b> Point Cloud Normalization with Co-Occurring LiDAR</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="PPP.html"><a href="PPP.html#data"><i class="fa fa-check"></i><b>6.3</b> Standard Data Products</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="PPP.html"><a href="PPP.html#DTM"><i class="fa fa-check"></i><b>6.3.1</b> Digital Terrain Model/Digital Elevation Model</a></li>
<li class="chapter" data-level="6.3.2" data-path="PPP.html"><a href="PPP.html#CHM"><i class="fa fa-check"></i><b>6.3.2</b> Canopy Height Model</a></li>
<li class="chapter" data-level="6.3.3" data-path="PPP.html"><a href="PPP.html#metrics"><i class="fa fa-check"></i><b>6.3.3</b> Standardized Metrics</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="field_data.html"><a href="field_data.html"><i class="fa fa-check"></i><b>7</b> Field Data Collection</a>
<ul>
<li class="chapter" data-level="7.1" data-path="field_data.html"><a href="field_data.html#stem_map"><i class="fa fa-check"></i><b>7.1</b> Stem Mapping Method 1: Distance and Azimuth</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="field_data.html"><a href="field_data.html#instrument"><i class="fa fa-check"></i><b>7.1.1</b> Instrument Calibration</a></li>
<li class="chapter" data-level="7.1.2" data-path="field_data.html"><a href="field_data.html#methods"><i class="fa fa-check"></i><b>7.1.2</b> Methods</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="field_data.html"><a href="field_data.html#stem_map_image"><i class="fa fa-check"></i><b>7.2</b> Stem Mapping Method 2: Direct-to-Image</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="bibliography.html"><a href="bibliography.html"><i class="fa fa-check"></i><b>8</b> Selected Bibliography of Relevant University of British Columbia Publications</a></li>
<li class="chapter" data-level="9" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>9</b> References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="geo_accuracy" class="section level1" number="3">
<h1><span class="header-section-number">Chapter 3</span> Geometric Accuracy</h1>
<p>During data acquisition, time and positional information is imprinted on each image collected by the RPAS. The most basic RPA (for example, the Phantom 4 Pro) use global positioning system (GPS) receivers to achieve this. GPS satellites are owned and operated by the United States of America and constitute one of several global navigation satellite systems (GNSS). More sophisticated RPA (for example, the Phantom 4 RTK) are equipped with GNSS receivers and are able to communicate with GPS satellites in addition to satellites from other GNSS constellations (for example, the European Union Galileo constellation). In this way, GNSS receivers can provide more accurate and reliable positional data by utilizing additional satellites. The positional information determined by RPA GPS or GNSS receivers is later used to locate each collected image in space during photogrammetric processing. As such, the quality of image geolocation affects the quality of photogrammetric reconstruction.</p>
<p>Geolocation errors arise from both satellite-associated errors as well as receiver-associated errors. Regardless of the type of receiver, satellite-associated errors are likely to be encountered. Satellite-associated geolocation errors are rectified using either real time kinematic (RTK) or post processing kinematic (PPK) correction algorithms. RTK and PPK systems rely on a combination of a rover (for example, an RPA or handheld GPS or GNSS unit), and a GNSS base station, where the base station is established over a known fixed position and records data to differentially correct for satellite-associated errors. RTK and PPK systems allow for centimeter-level accuracy, which is necessary in surveying most applications, whereas RPAS using solely built-in GPS or GNSS receivers can expect metre-level accuracy.</p>
<p>In RTK and PPK systems, a base station placed over a known location continually records the difference between that known location and its location as estimated by overhead satellites. This difference creates a correction factor that is then applied to positions recorded by a roving GPS or GNSS unit, which can be an RPA or a hand-held unit. In RTK systems, base stations apply correction factors on the fly using carrier phase data (a measure of the error in position measured between bases actual and known location). In PPK systems, both the rover and the base station record GNSS data and are corroborated in later processing to calculate the absolute position of the rover. RTK requires constant connection between the base station and the rover, while PPK processing data is recorded simultaneously but there requires no real-time data transfer between the rover and the unit. An overview of these processes is provided in (Figure 1).</p>
<p>In RPAS workflows, geolocation accuracy may be improved through use of new technology which integrates PPK and RTK positions directly with the RPAS, or traditional ground control point (GCP) placement. We first outline the process of using ground control points before revisiting PPK and RTK workflows.</p>
<div id="GCP" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Ground Control Points (GCP)</h2>
<p>Traditionally, RPAS surveying at centimetre-level accuracy has relied on the integration of ground control points (GCP), which are used to apply geometric corrections in photogrammetric models. GCP are large (ranging from approximately 30 cm2 to 1 m2 in size), marked targets distributed over the site for which RPAS imagery is collected. Target locations are recorded with a hand-held GPS or GNSS device and are later identified by the user in the imagery during photogrammetric processing. In the case of data collection with a non-RTK RPAS, PPK or RTK processing can be incorporated with GCP location measurements by using the hand-held GPS or GNSS device as a rover. The geometric accuracy of the final model, of which the point cloud and orthomosaic are major products, is highly dependent on the distribution and density of the GCP. Typically, tree-based studies (especially studies focussing on small tree crowns) require models of much higher geometric accuracy than area-based studies. Optimal positioning (i.e. distribution and density) of GCP is dependent on 1) elevation changes, 2) the size of a site, and 3) the camera’s field-of-view. Various guidelines on how to capture GCP are available online, such as DroneDeploy <span class="citation">(<strong>DroneDeploy2021Ground?</strong>)</span>. Note that the integration of GCP adds significant workload to both field data collection, as well as photogrammetric processing. Placing of GCP targets may also cause a degree of trampling and as such, may be considered intrusive.</p>
<img src="figures/fig1.png" width="100%" style="display: block; margin: auto;" />
<center>
<strong>Figure 1.</strong> An overview of PPK (red) and RTK (blue) processes.
</center>
<p><br></p>
<p>RTK and PPK allow the surveyor to largely or completely phase out GCP points, and instead use a base station which is connected directly to the RPAS. In this instance, the RPA is essentially replacing a traditional rover unit. Users can improve overall geolocation accuracy using a combination of RTK systems with PPK processing. The following sections discuss RTK processing and PPK processing using files generated from a traditional base station and a rover combination, or files generated from a base station and an RPA rover.</p>
</div>
<div id="RTK_wf" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> Real-Time Kinematic (RTK) Workflows</h2>
<p>RTK positioning systems apply corrections in real time by calculating additional difference offset between the base station and the satellite communicated by the carrier phase of the satellite itself. Generally, RTK RPA like the DJIs Phantom 4 RTK, Matrice 200, or Matrice 300 come with their own base station unit and store a .rinex file for each flight. These files contain the GNSS positioning errors associated with the locations recorded for each photo. The corrections can be loaded directly into different photogrammetry processing softwares to incorporate the accurate and precise locations of the RPA in each photo. Note that connection between a rover and RTK base station can be lost, particularly in complex environments with limited line-of-sight. In such a case, geometric accuracy is likely to be reduced. Caution is advised when operating in such conditions. If a loss of connection seems likely, the use of GCP or PPK in addition to RTK is recommended if consistently high geometric accuracy is required.</p>
</div>
<div id="PPK_wf" class="section level2" number="3.3">
<h2><span class="header-section-number">3.3</span> Post-Processing Kinematic Workflows (PPK)</h2>
<p>The PPK workflow includes an additional processing step to combine data from a base station and the RPA or rover. The base station is typically a third-party nearby base station from which data is gathered in post data acquisition or near real-time through a mobile network. The data includes recorded messages of the satellite’s carrier phase to calculate a difference metric that relates the precise location of the roving unit (or RPA) to the base station. PPK then corrects the positions recorded by the roving unit, after which the positional accuracy of the rover will be similar to the accuracy of the PPK base station. However, some error is likely to be introduced during the transformation of the rover’s positions and accuracy may diminish as a function of distance from the PPK base station. Typically, location data can only be processed using software distributed by the manufacturer of the rover. A good example of this are the Trimble units, which require post-processing with GPS Pathfinder Office <span class="citation">(<strong>Trimble-Inc-2022GPS?</strong>)</span>. However, RTKLIB <span class="citation">(<strong>Takasu2013RTKLIB?</strong>)</span> is a well known free open source alternative to paid PPK software. Note that the distance away from the base station is very important in order to improve geometric accuracy following PPK. In some provinces like British Columbia a continuous network of base stations is operational, whereas this is problematic in large parts of Alberta. PPK position files can then be loaded into the photogrammetry processing software similar to the RTK processing steps above.</p>
</div>
<div id="use_case" class="section level2" number="3.4">
<h2><span class="header-section-number">3.4</span> Determining Use-Case</h2>
<p>PPK- and RTK-enabled GNSS systems are considerably more expensive than conventional GPS/GNSS options. As an example, the Phantom 4 RTK costs $CAD 11,600 while the non-RTK equivalent costs $CAD 2,200 <span class="citation">(<strong>DJI2022DJI?</strong>)</span>. A user needs a subscription to be able to use PPK services, which (at the time of this writing) costs around $CAD 2,625 per year for Trimble CenterPoint RTX rovers <span class="citation">(<strong>Trimble-Inc-2022CenterPoint?</strong>)</span>. To be able to justify the higher costs of PPK and RTK, a decision maker should have a good understanding of the desired use-cases for datasets.</p>
<p>The use-case determines the necessary geometric accuracy level, thus whether GCPPPK/RTK is required. A DAP dataset that is going to be used solely for applications such as tree identification and classification of vegetation types does not require high geometric accuracy, nor does a dataset that is going to be used in combination with large (~ 9 m radius) sample plots or sample plots easily identifiable in the imagery. For any other use case, data acquisition likely requires the use of GCPPPK/RTK. Note that not using GCP/PPK/RTK can lead to increases in horizontal and vertical error and error in geolocation will correspond to error in tree height measurements from photogrammetric products. When the DAP dataset is going to be used in combination with other datasets, it is important that the DAP dataset does not include any irregular random distortions (i.e. high local accuracy) and is positioned correctly (i.e. high global accuracy). Decision makers and end-users should refer to Figure 2 to assess whether the use of more accurate GNSS technology is required.</p>
<img src="figures/fig2.png" width="100%" style="display: block; margin: auto;" />
<center>
<strong>Figure 2.</strong> Decision chart to determine required geometric accuracy.
</center>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="hardware.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="planning.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/04_Geometric-Accuracy.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
